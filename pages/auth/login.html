<?php
session_start();
?>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../assets/css/auth-modern.css"/>
    <link rel="icon" type="image/x-icon" href="../../assets/img/logo/logo.ico">
    <script>
    // Reset the splash screen flag whenever the user visits the login page
        sessionStorage.removeItem('splashShown');
    </script>
    <title>Student Login - School Portal</title>
</head>
<body>

    <div class="auth-container fadeIn">
        
        <div class="brand-side">
            <img src="../../assets/img/logo/for-guthib.png" alt="School Logo" class="logo">
            <h1>Welcome Back!</h1>
            <p>To keep connected with us please login with your personal info.</p>
            <a href="signup.html" class="switch-btn">Register New Account</a>
        </div>

        <div class="form-side">
            <div class="form-header">
                <h2>Login</h2>
                <p>Enter your credentials to access your dashboard.</p>
            </div>

            <form action="" method="POST">
                
                <div class="input-group">
                    <div class="input-wrapper">
                        <input type="text" name="identifier" placeholder="Email or School ID" required>
                        <img class="icon" src="../../assets/img/icons/student-id-icon.svg" alt="User Icon">
                    </div>
                </div>

                <div class="input-group">
                    <div class="input-wrapper">
                        <input type="password" name="password" id="passwordInput" class="password-field" placeholder="Password" required>
                        <img class="icon" src="../../assets/img/icons/password-icon.svg" alt="Lock Icon">
                        
                        <svg class="toggle-password" id="toggleBtn" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path id="eyePath" stroke-linecap="round" stroke-linejoin="round" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z" />
                        </svg>
                    </div>
                </div>

                <div style="text-align: right; margin-bottom: 1rem;">
                    <a href="#forgot-pass-pop-up" style="color: var(--primary-color); font-size: 0.9rem;">Forgot Password?</a>
                </div>

                <button type="submit" class="btn-submit">Sign In</button>

                <div class="extra-links">
                    <span class="mobile-only">Don't have an account? <a href="signup.html">Register</a></span>
                </div>
            </form>
        </div>
    </div>

    <script>
        // --- Password Toggle Logic ---
        const toggleBtn = document.getElementById('toggleBtn');
        const eyePath = document.getElementById('eyePath');
        const passwordInput = document.getElementById('passwordInput');

        const eyeOpen = "M15 12a3 3 0 11-6 0 3 3 0 016 0z M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z";
        const eyeClosed = "M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21";

        toggleBtn.addEventListener('click', function () {
            const currentType = passwordInput.getAttribute('type');
            if (currentType === 'password') {
                passwordInput.setAttribute('type', 'text');
                eyePath.setAttribute('d', eyeClosed);
            } else {
                passwordInput.setAttribute('type', 'password');
                eyePath.setAttribute('d', eyeOpen);
            }
        });

        // --- Auto-Dismiss Alert Logic ---
        const alertBox = document.getElementById('alertBox');
        if (alertBox) {
            // Wait 5 seconds (5000ms) then fade out
            setTimeout(() => {
                alertBox.style.transition = 'opacity 0.5s ease';
                alertBox.style.opacity = '0';
                
                // Remove from DOM after fade animation completes
                setTimeout(() => {
                    alertBox.remove();
                }, 500);
            }, 5000);
        }
    </script>
</body>
</html>